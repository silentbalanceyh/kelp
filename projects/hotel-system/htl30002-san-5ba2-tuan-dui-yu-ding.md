# HTL30002 - 散客/团队预定

## 1. 菜单

* 预定管理 -&gt; 散客预定
* 预定管理 -&gt; 团队预定

## 2.表单逻辑

### 2.1.主表单

* 协议单位：弹出框选择协议单位
* 会员卡号：弹出框选择会员卡号
  * 预订人自动填充
  * 联系电话自动填充

### 2.2. 子表单

* 房间类型：选择房间类型
  * 房价码根据房间选择类型刷新
* 抵达日期：选择抵达日期（时间为当前时间）
* 入住天数
  * 如果抵达日期和离店日期都填写了，自动计算入住天数
  * 变更抵达日期不重算入住天数（主逻辑：抵达日期 + 入住天数 = 离店日期）
  * 变更离店日期重算入住天数
* 离店日期
  * 如果抵达日期和入住天数都填写了，自动计算离店日期
  * 变更抵达日期或入住天数时重算离店日期
* 房间数
  * 如果房间类型和抵达日期都有值，则直接统计目前房型的可预订数量
  * 房间类型和抵达日期变更时，重算目前房型可预订数量

## 3. 接口说明

### 3.1. 接口信息

* URI：`/api/htl/ticket/orders`
* Method：POST
* Required Parameters：
  * 
* 




